9999999999s:9152:"System.register("flarum/subscriptions/addSubscriptionBadge",["flarum/extend","flarum/models/Discussion","flarum/components/Badge"],function(c,g){var b,d,e;c("default",function(){b(d.prototype,"badges",function(a){var f=void 0;switch(this.subscription()){case "follow":f=e.component({label:app.translator.trans("flarum-subscriptions.forum.badge.following_tooltip"),icon:"star",type:"following"});break;case "ignore":f=e.component({label:app.translator.trans("flarum-subscriptions.forum.badge.ignoring_tooltip"),
icon:"eye-slash",type:"ignoring"})}f&&a.add("subscription",f)})});return{setters:[function(a){b=a.extend},function(a){d=a["default"]},function(a){e=a["default"]}],execute:function(){}}});"use strict";
System.register("flarum/subscriptions/addSubscriptionControls",["flarum/extend","flarum/components/Button","flarum/components/DiscussionPage","flarum/utils/DiscussionControls","flarum/subscriptions/components/SubscriptionMenu"],function(c,g){var b,d,e,a,f;c("default",function(){b(a,"userControls",function(a,f,b){if(app.session.user&&!(b instanceof e)){b={none:{label:app.translator.trans("flarum-subscriptions.forum.discussion_controls.follow_button"),icon:"star",save:"follow"},follow:{label:app.translator.trans("flarum-subscriptions.forum.discussion_controls.unfollow_button"),
icon:"star-o",save:!1},ignore:{label:app.translator.trans("flarum-subscriptions.forum.discussion_controls.unignore_button"),icon:"eye",save:!1}};var c=f.subscription()||"none";a.add("subscription",d.component({children:b[c].label,icon:b[c].icon,onclick:f.save.bind(f,{subscription:b[c].save})}))}});b(e.prototype,"sidebarItems",function(a){app.session.user&&a.add("subscription",f.component({discussion:this.discussion}))})});return{setters:[function(a){b=a.extend},function(a){d=a["default"]},function(a){e=
a["default"]},function(f){a=f["default"]},function(a){f=a["default"]}],execute:function(){}}});"use strict";
System.register("flarum/subscriptions/addSubscriptionFilter",["flarum/extend","flarum/components/LinkButton","flarum/components/IndexPage","flarum/components/DiscussionList"],function(c,g){var b,d,e,a;c("default",function(){b(e.prototype,"navItems",function(a){if(app.session.user){var b=this.stickyParams();b.filter="following";a.add("following",d.component({href:app.route("index.filter",b),children:app.translator.trans("flarum-subscriptions.forum.index.following_link"),icon:"star"}),50)}});b(a.prototype,
"requestParams",function(a){"following"===this.props.params.filter&&(a.filter.q=(a.filter.q||"")+" is:following")})});return{setters:[function(a){b=a.extend},function(a){d=a["default"]},function(a){e=a["default"]},function(b){a=b["default"]}],execute:function(){}}});"use strict";
System.register("flarum/subscriptions/addSubscriptionSettings",["flarum/extend","flarum/components/SettingsPage","flarum/components/FieldSet","flarum/components/Switch","flarum/utils/ItemList"],function(c,g){var b,d,e;c("default",function(){b(d.prototype,"notificationsItems",function(a){a.add("followAfterReply",e.component({children:app.translator.trans("flarum-subscriptions.forum.settings.follow_after_reply_label"),state:this.user.preferences().followAfterReply,onchange:this.preferenceSaver("followAfterReply")}))})});
return{setters:[function(a){b=a.extend},function(a){d=a["default"]},function(a){},function(a){e=a["default"]},function(a){}],execute:function(){}}});"use strict";
System.register("flarum/subscriptions/components/NewPostNotification",["flarum/components/Notification","flarum/helpers/username"],function(c,g){var b,d;return{setters:[function(e){b=e["default"]},function(b){}],execute:function(){d=function(b){function a(){babelHelpers.classCallCheck(this,a);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(a).apply(this,arguments))}babelHelpers.inherits(a,b);babelHelpers.createClass(a,[{key:"icon",value:function(){return"star"}},{key:"href",
value:function(){var a=this.props.notification,b=a.subject(),a=a.content()||{};return app.route.discussion(b,a.postNumber)}},{key:"content",value:function(){return app.translator.trans("flarum-subscriptions.forum.notifications.new_post_text",{user:this.props.notification.sender()})}}]);return a}(b);c("default",d)}}});"use strict";
System.register("flarum/subscriptions/components/SubscriptionMenu",["flarum/components/Dropdown","flarum/components/Button","flarum/helpers/icon","flarum/utils/extractText","flarum/subscriptions/components/SubscriptionMenuItem"],function(c,g){var b,d,e,a,f,h;return{setters:[function(a){b=a["default"]},function(a){d=a["default"]},function(a){e=a["default"]},function(b){a=b["default"]},function(a){f=a["default"]}],execute:function(){h=function(b){function c(){babelHelpers.classCallCheck(this,c);return babelHelpers.possibleConstructorReturn(this,
Object.getPrototypeOf(c).apply(this,arguments))}babelHelpers.inherits(c,b);babelHelpers.createClass(c,[{key:"init",value:function(){this.options=[{subscription:!1,icon:"star-o",label:app.translator.trans("flarum-subscriptions.forum.sub_controls.not_following_button"),description:app.translator.trans("flarum-subscriptions.forum.sub_controls.not_following_text")},{subscription:"follow",icon:"star",label:app.translator.trans("flarum-subscriptions.forum.sub_controls.following_button"),description:app.translator.trans("flarum-subscriptions.forum.sub_controls.following_text")},
{subscription:"ignore",icon:"eye-slash",label:app.translator.trans("flarum-subscriptions.forum.sub_controls.ignoring_button"),description:app.translator.trans("flarum-subscriptions.forum.sub_controls.ignoring_text")}]}},{key:"view",value:function(){var b=this,c=this.props.discussion,n=c.subscription(),g=app.translator.trans("flarum-subscriptions.forum.sub_controls.follow_button"),h="star-o",k="SubscriptionMenu-button--"+n;switch(n){case "follow":g=app.translator.trans("flarum-subscriptions.forum.sub_controls.following_button");
h="star";break;case "ignore":g=app.translator.trans("flarum-subscriptions.forum.sub_controls.ignoring_button"),h="eye-slash"}var p=app.session.user.preferences(),l=p.notify_newPost_email,p=p.notify_newPost_alert,t=a(app.translator.trans(l?"flarum-subscriptions.forum.sub_controls.notify_email_tooltip":"flarum-subscriptions.forum.sub_controls.notify_alert_tooltip")),g={className:"Button SubscriptionMenu-button "+k,icon:h,children:g,onclick:this.saveSubscription.bind(this,c,-1!==["follow","ignore"].indexOf(n)?
!1:"follow"),title:t};g.config=(l||p)&&!1===n?function(a){$(a).tooltip({container:".SubscriptionMenu",placement:"bottom",delay:250,title:t})}:function(a){return $(a).tooltip("destroy")};return m("div",{className:"Dropdown ButtonGroup SubscriptionMenu"},d.component(g),m("button",{className:"Dropdown-toggle Button Button--icon "+k,"data-toggle":"dropdown"},e("caret-down",{className:"Button-icon"})),m("ul",{className:"Dropdown-menu dropdown-menu Dropdown-menu--right"},this.options.map(function(a){a.onclick=
b.saveSubscription.bind(b,c,a.subscription);a.active=n===a.subscription;return m("li",null,f.component(a))})))}},{key:"saveSubscription",value:function(a,b){a.save({subscription:b});this.$(".SubscriptionMenu-button").tooltip("hide")}}]);return c}(b);c("default",h)}}});"use strict";
System.register("flarum/subscriptions/components/SubscriptionMenuItem",["flarum/Component","flarum/helpers/icon"],function(c,g){var b,d,e;return{setters:[function(a){b=a["default"]},function(a){d=a["default"]}],execute:function(){e=function(a){function b(){babelHelpers.classCallCheck(this,b);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(b).apply(this,arguments))}babelHelpers.inherits(b,a);babelHelpers.createClass(b,[{key:"view",value:function(){return m("button",{className:"SubscriptionMenuItem hasIcon",
onclick:this.props.onclick},this.props.active?d("check",{className:"Button-icon"}):"",m("span",{className:"SubscriptionMenuItem-label"},d(this.props.icon,{className:"Button-icon"}),m("strong",null,this.props.label),m("span",{className:"SubscriptionMenuItem-description"},this.props.description)))}}]);return b}(b);c("default",e)}}});"use strict";
System.register("flarum/subscriptions/main","flarum/extend flarum/app flarum/Model flarum/models/Discussion flarum/components/NotificationGrid flarum/subscriptions/addSubscriptionBadge flarum/subscriptions/addSubscriptionControls flarum/subscriptions/addSubscriptionFilter flarum/subscriptions/addSubscriptionSettings flarum/subscriptions/components/NewPostNotification".split(" "),function(c,g){var b,d,e,a,f,h,k,l,q,r;return{setters:[function(a){b=a.extend},function(a){d=a["default"]},function(a){e=
a["default"]},function(b){a=b["default"]},function(a){f=a["default"]},function(a){h=a["default"]},function(a){k=a["default"]},function(a){l=a["default"]},function(a){q=a["default"]},function(a){r=a["default"]}],execute:function(){d.initializers.add("subscriptions",function(){d.notificationComponents.newPost=r;a.prototype.subscription=e.attribute("subscription");h();k();l();q();b(f.prototype,"notificationTypes",function(a){a.add("newPost",{name:"newPost",icon:"star",label:d.translator.trans("flarum-subscriptions.forum.settings.notify_new_post_label")})})})}}});";