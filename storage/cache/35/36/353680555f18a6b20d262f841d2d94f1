9999999999s:4040:"System.register("flarum/suspend/components/SuspendUserModal",["flarum/components/Modal","flarum/components/Button"],function(g,l){var c,d,f;return{setters:[function(d){c=d["default"]},function(c){d=c["default"]}],execute:function(){f=function(c){function e(){babelHelpers.classCallCheck(this,e);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}babelHelpers.inherits(e,c);babelHelpers.createClass(e,[{key:"init",value:function(){babelHelpers.get(Object.getPrototypeOf(e.prototype),
"init",this).call(this);var a=this.props.user.suspendUntil(),b=null;new Date>a&&(a=null);a&&(b=9999===a.getFullYear()?"indefinitely":"limited");this.status=m.prop(b);this.daysRemaining=m.prop("limited"===b&&-moment().diff(a,"days")+1)}},{key:"className",value:function(){return"SuspendUserModal Modal--small"}},{key:"title",value:function(){return app.translator.trans("flarum-suspend.forum.suspend_user.title",{user:this.props.user})}},{key:"content",value:function(){var a=this;return m("div",{className:"Modal-body"},
m("div",{className:"Form"},m("div",{className:"Form-group"},m("label",null,app.translator.trans("flarum-suspend.forum.suspend_user.status_heading")),m("div",null,m("label",{className:"checkbox"},m("input",{type:"radio",name:"status",checked:!this.status(),onclick:m.withAttr("value",this.status)}),app.translator.trans("flarum-suspend.forum.suspend_user.not_suspended_label")),m("label",{className:"checkbox"},m("input",{type:"radio",name:"status",checked:"indefinitely"===this.status(),value:"indefinitely",
onclick:m.withAttr("value",this.status)}),app.translator.trans("flarum-suspend.forum.suspend_user.indefinitely_label")),m("label",{className:"checkbox SuspendUserModal-days"},m("input",{type:"radio",name:"status",checked:"limited"===this.status(),value:"limited",onclick:function(b){a.status(b.target.value);m.redraw(!0);a.$(".SuspendUserModal-days-input input").select();m.redraw.strategy("none")}}),app.translator.trans("flarum-suspend.forum.suspend_user.limited_time_label"),"limited"===this.status()?
m("div",{className:"SuspendUserModal-days-input"},m("input",{type:"number",min:"0",value:this.daysRemaining(),oninput:m.withAttr("value",this.daysRemaining),className:"FormControl"}),app.translator.trans("flarum-suspend.forum.suspend_user.limited_time_days_text")):""))),m("div",{className:"Form-group"},m(d,{className:"Button Button--primary",loading:this.loading,type:"submit"},app.translator.trans("flarum-suspend.forum.suspend_user.submit_button")))))}},{key:"onsubmit",value:function(a){var b=this;
a.preventDefault();this.loading=!0;a=null;switch(this.status()){case "indefinitely":a=new Date("2038-01-01");break;case "limited":a=moment().add(this.daysRemaining(),"days").toDate()}this.props.user.save({suspendUntil:a}).then(function(){return b.hide()},this.loaded.bind(this))}}]);return e}(c);g("default",f)}}});"use strict";
System.register("flarum/suspend/main","flarum/extend flarum/app flarum/utils/UserControls flarum/components/Button flarum/components/Badge flarum/Model flarum/models/User flarum/suspend/components/SuspendUserModal".split(" "),function(g,l){var c,d,f,h,e,a,b,k;return{setters:[function(a){c=a.extend},function(a){d=a["default"]},function(a){f=a["default"]},function(a){h=a["default"]},function(a){e=a["default"]},function(b){a=b["default"]},function(a){b=a["default"]},function(a){k=a["default"]}],execute:function(){d.initializers.add("flarum-suspend",
function(){b.prototype.canSuspend=a.attribute("canSuspend");b.prototype.suspendUntil=a.attribute("suspendUntil",a.transformDate);c(f,"moderationControls",function(a,b){b.canSuspend()&&a.add("suspend",h.component({children:d.translator.trans("flarum-suspend.forum.user_controls.suspend_button"),icon:"ban",onclick:function(){return d.modal.show(new k({user:b}))}}))});c(b.prototype,"badges",function(a){var b=this.suspendUntil();new Date<b&&a.add("suspended",e.component({icon:"ban",type:"suspended",label:d.translator.trans("flarum-suspend.forum.user_badge.suspended_tooltip")}))})})}}});";